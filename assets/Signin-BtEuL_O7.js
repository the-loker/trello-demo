import{u as y,e as S,j as E,k as _,l as k,d as b,m as q,o as d,c as u,h as s,F as f,n as x,p as B,b as a,q as g,v as h,i as D,t as U,a as V}from"./index-BUgQ5tXo.js";import{c as $,a as v}from"./index.esm-BqjAheMm.js";const N=()=>{const c=y(),{signin:n}=S(),t=$({username:v().label("Username").min(3).max(150).required("User name is required field"),password:v().label("Password").min(8).required("Password is required field")}),o=E({username:"",password:""}),i=_(!1),l=_([]),m=k(()=>!!l.value.length);function p(){l.value=[]}async function r(){p(),i.value=!0;try{return await t.validate(o,{abortEarly:!0}),await n({username:o.username,password:o.password}),await c.push({name:"private-board"})}catch(e){if(e instanceof Error)return l.value.push(e.message);console.error(e)}finally{i.value=!1}}return{formData:o,isLoading:i,errors:l,hasErrors:m,clearErrors:p,onSignIn:r}},F={key:0,class:"errors"},L={class:"signin-form__item"},P=["disabled"],C={class:"signin-form__item"},I=["disabled"],M=["disabled"],j=b({__name:"signin-form",setup(c){const{formData:n,isLoading:t,errors:o,onSignIn:i,hasErrors:l,clearErrors:m}=N();return q(()=>m()),(p,r)=>(d(),u(f,null,[s(l)?(d(),u("div",F,[(d(!0),u(f,null,x(s(o),(e,w)=>(d(),u("div",{key:w,class:"errors__message"},[a("span",null,U(e),1)]))),128))])):B("",!0),a("form",{class:"signin-form",onSubmit:r[2]||(r[2]=D((...e)=>s(i)&&s(i)(...e),["prevent"]))},[a("div",L,[g(a("input",{class:"input","onUpdate:modelValue":r[0]||(r[0]=e=>s(n).username=e),placeholder:"Name",disabled:s(t)},null,8,P),[[h,s(n).username]])]),a("div",C,[g(a("input",{type:"password",class:"input","onUpdate:modelValue":r[1]||(r[1]=e=>s(n).password=e),placeholder:"Password",disabled:s(t)},null,8,I),[[h,s(n).password]])]),a("button",{class:"button button--primary",type:"submit",disabled:s(t)}," Sign in ",8,M)],32)],64))}}),A={class:"signin-content"},R=a("h1",{class:"page-title"},"Sign in",-1),G=b({__name:"Signin",setup(c){return(n,t)=>(d(),u("div",A,[R,V(j)]))}});export{G as default};
